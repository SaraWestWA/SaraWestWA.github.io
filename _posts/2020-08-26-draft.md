---
layout: post
title: A Model to Predict a Loan Defaulter
subtitle: Misadventures in learning
cover-img: /assets/img/sophie-nengel-bELvIg_KZGU-unsplash.jpg
---


### The basics

TVS is a lending institution which provides both secured and unsecured loans. A secured loan has something which can be repossessed if a customer defaults, for example, a two-wheeled vehicle. A personal loan is an example of an unsecured loan, if the customer fails to pay, the money is lost.

### The data
TVS customers who have already taken out a loan for a two-wheeled vehicle and have also been granted a personal loan.

### The question
Which of these clients will become defaulters? The data shows that 2.18% of borrowers with a two-wheel loan default on a personal loan.

### The goal
Use this data to predict who will default.

### The assumtion
The the first payment due date for the personal loan has passed.

### The problem
There is no data about the clients whose person loan applications were denied. Hence, defaulters cannot be compared to the denied clients to find similarities.

### The challenge
The data is imbalanced. When there is so much information about one group and so little about another, the larger group dominates.

### The mistake
The mistake: I had a fundamental misunderstanding about one of the methods for dealing with imbalanced data. Correcting that mistake rendered my models far less useful.



Initially there were about 120,000 clients on the list, with 32 possible pieces of information about each one. This client information is referred to as features or columns. Several features with information gathered after the first payment date were removed. In addition, the TVS data was missing a lot of information, which required dropping both clients and columns with too many holes. Now there were about 85,000 clients and 20? columns of information.

When the imbalanced data was run through various models, the results were dismal. None of the model options helped identify defaulters.

I employed two methods for balancing the data. Downsampling, was done by cutting down list of the non-defaulters to approximately the same number as defaulters; referred to as “down” in my illustrations. The other method is Synthetic Minority Oversampling Technique, SMOTE for short. SMOTE creates a fictional population of defaulters so that there are an even number of defaulters and non-defaulters. It sounds a little fanciful, but is proven to be legitimate.

 I experimented with downsampling the data until there were 10-20% defaulters and then using SMOTE to balance the numbers. This technique did not improve results and was discarded.

The model result: Unless TVS wants to sell a large percentage of their personal loans to another lender, my models are not particularly useful.

The end: I learned a lot about the mechanics of making models.

### Threats to honeybees
![WA Honey](https://raw.githubusercontent.com/SaraWestWA/SaraWestWA.github.io/master/assets/img/WA%20Honey%20production%20annual%20with%20stressors.png){: .mx-auto.d-block :}

In 1987 [varroa mites](http://www.columbia.edu/itc/cerc/danoff-burg/invasion_bio/inv_spp_summ/varroa_destructor.html) first appeared in the United States. If unchecked a varroa mite infestation will kill a colony in just two years. According to the USDA varroa mites continue to be the biggest threat to the health of honeybee colonies. Loss of some colonies over the winter is an expected part of beekeeping. However, in 2006 a phenomenon of hives apparently abandoned by worker bees was observed; colony loss was occurring on far larger scale than in the past. According to the [USDA](https://usda.library.cornell.edu/concern/publications/rn301137d?locale=en) Colony Collapse Disorder, as it is now known, remains the most common cause of colony loss. The origin of [CCD](https://www.epa.gov/pollinator-protection/colony-collapse-disorder) are unknown, though it is speculated that the pesticides used to combat the tenacious varroa mites may be having unintended consequences. In 2016 Washington State University noted that beekeepers were losing more than twice as many colonies as prior to CCD. It takes time for [new honeybee colonies](https://beehour.com/how-long-does-it-take-to-get-honey-from-a-new-hive/#:~:text=Typically%2C%20some%20amount%20of%20honey,was%20introduced%20to%20the%20hive.) to become established and be productive.

#### Other useful information

**Years are “marketing years” as defined by the USDA. Data is from beekeeping operations with five or more colonies. Thirty-three states have participated in the USDA honey production survey every year since 1987. Thus, “USA” numbers are a reflection of only these participating states. Actual national honey production may differ.

Find my raw data here: [Raw_Honey](https://github.com/SaraWestWA/DS-Unit-1-Build/blob/master/2020%20BFFFE401-A356-3D6D-8B47-313C0C09870E.csv)

Get your own data from the USDA here: [USDA_Data](https://quickstats.nass.usda.gov/)

Take a peek at my code here: [Honey_Notebook](https://github.com/SaraWestWA/DS-Unit-1-Build/blob/master/SW_Honey_WA_state.ipynb)

##### Eat honey for it is good; honey from the comb is sweet to taste.
Proverbs 24:13 paraphrase







